<!DOCTYPE html>
<html lang="ua">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Оформити замовлення</title>
    <link rel="stylesheet" href="./css/order.css" />
    <link rel="stylesheet" href="./css/global.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="bg-top"></div>
    <header class="container-s justify_between">
      <a href="/">
        <img
          src="./assets/images/logo.svg"
          alt="logo"
          width="200"
          height="30"
        />
      </a>
      <nav class="h_nav align_center">
        <a href="/">Головна</a>
        <div class="h_select">
          <div class="align_center" onclick="showCatalog(1)">
            <span>Штори</span>
            <img
              src="./assets/images/header/arrow.svg"
              alt="arrow"
              height="12"
              width="6"
              id="arrow_s1"
              class="arrow_ss"
            />
          </div>
          <div id="catalog_s1" class="burger_th"></div>
        </div>
        <div class="h_select">
          <div class="align_center" onclick="showCatalog(2)">
            <span>Тюль</span>
            <img
              src="./assets/images/header/arrow.svg"
              alt="arrow"
              height="12"
              width="6"
              id="arrow_s2"
              class="arrow_ss"
            />
          </div>
          <div id="catalog_s2" class="burger_th"></div>
        </div>
        <div class="h_select">
          <div class="align_center" onclick="showCatalog(3)">
            <span>Тасьма</span>
            <img
              src="./assets/images/header/arrow.svg"
              alt="arrow"
              height="12"
              width="6"
              id="arrow_s3"
              class="arrow_ss"
            />
          </div>
          <div id="catalog_s3" class="burger_th"></div>
        </div>
        <a href="/catalog">Інше</a>
        <a href="/cart" style="display: flex; position: relative" id="cart-btn">
          <img
            src="./assets/images/header/cart.svg"
            alt="cart"
            height="21"
            width="24"
          />
        </a>
      </nav>
      <div class="h_burger">
        <img
          src="./assets/images/header/burger.svg"
          alt="burger"
          width="26"
          height="17"
          onclick="showBurger()"
        />
        <div class="mob_burg">
          <img
            src="./assets/images/home/close.svg"
            alt="close"
            width="21"
            height="21"
            onclick="closeBurger()"
          />
          <div>
            <a href="/" style="margin-bottom: 10px">Головна</a>
            <div class="hm_nav">
              <div class="align_center" onclick="showMobCatalog(1)">
                <div class="title-hm">
                  <span>Штори</span>
                  <img
                    src="./assets/images/header/arrow.svg"
                    alt="arrow"
                    height="12"
                    width="6"
                    id="arrow_s1"
                    class="arrow_ss"
                  />
                </div>
              </div>
              <div id="catalog_sm1"></div>
            </div>
            <div class="hm_nav">
              <div class="align_center" onclick="showMobCatalog(2)">
                <div class="title-hm">
                  <span>Тюль</span>
                  <img
                    src="./assets/images/header/arrow.svg"
                    alt="arrow"
                    height="12"
                    width="6"
                    id="arrow_s1"
                    class="arrow_ss"
                  />
                </div>
              </div>
              <div id="catalog_sm2"></div>
            </div>
            <div class="hm_nav">
              <div class="align_center" onclick="showMobCatalog(3)">
                <div class="title-hm">
                  <span>Тасьма</span>
                  <img
                    src="./assets/images/header/arrow.svg"
                    alt="arrow"
                    height="12"
                    width="6"
                    id="arrow_s1"
                    class="arrow_ss"
                  />
                </div>
              </div>
              <div id="catalog_sm3"></div>
            </div>
            <a href="/catalog">Інше</a>
          </div>
        </div>
      </div>
    </header>
    <main>
      <div class="pages container-s">
        <a href="/cart">Кошик</a>
        <img
          src="./assets/images/header/arrow.svg"
          alt="arrow"
          width="12"
          height="12"
        />
        <div style="color: #222222">Оформлення замовлення</div>
      </div>
      <div class="order container-s">
        <h1>Оформити замовлення</h1>
        <div class="order-block">
          <div>
            <div class="order-usr">
              <h2>Інформація про вас</h2>
              <input
                type="text"
                name="name"
                placeholder="Повне ім’я"
                class="input-ds"
              />
              <input
                type="tel"
                name="phone"
                placeholder="+380 xx xxx xx xx"
                class="input-ds"
              />
              <input
                type="email"
                name="email"
                placeholder="figma@gmail.com"
                class="input-ds"
              />
            </div>
            <div class="pay-sel">
              <h2>Вибір предплати</h2>
              <div>
                <div class="checkbox checked" onclick="changeCheck(event)">
                  <input type="checkbox" checked value="100" />
                  <svg
                    width="18"
                    height="14"
                    viewBox="0 0 18 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.94918 11.275L16.1586 1.06563C16.3324 0.896875 16.5353 0.8125 16.7671 0.8125C16.9989 0.8125 17.1992 0.897371 17.3679 1.06712C17.5367 1.23684 17.6211 1.4384 17.6211 1.6718C17.6211 1.90518 17.5367 2.10625 17.3679 2.275L6.5398 13.1031C6.37105 13.2719 6.17418 13.3563 5.94918 13.3563C5.72418 13.3563 5.5273 13.2719 5.35855 13.1031L0.239803 7.98438C0.0710526 7.81437 -0.00863487 7.6125 0.000740132 7.37876C0.0101151 7.145 0.0996743 6.94375 0.269418 6.775C0.439143 6.60625 0.640706 6.52188 0.874106 6.52188C1.10749 6.52188 1.30855 6.60625 1.4773 6.775L5.94918 11.275Z"
                      fill="#FF8720"
                    />
                  </svg>
                </div>
                <div>100% передплата</div>
              </div>
              <div>
                <div class="checkbox" onclick="changeCheck(event)">
                  <input type="checkbox" value="50" />
                  <svg
                    width="18"
                    height="14"
                    viewBox="0 0 18 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.94918 11.275L16.1586 1.06563C16.3324 0.896875 16.5353 0.8125 16.7671 0.8125C16.9989 0.8125 17.1992 0.897371 17.3679 1.06712C17.5367 1.23684 17.6211 1.4384 17.6211 1.6718C17.6211 1.90518 17.5367 2.10625 17.3679 2.275L6.5398 13.1031C6.37105 13.2719 6.17418 13.3563 5.94918 13.3563C5.72418 13.3563 5.5273 13.2719 5.35855 13.1031L0.239803 7.98438C0.0710526 7.81437 -0.00863487 7.6125 0.000740132 7.37876C0.0101151 7.145 0.0996743 6.94375 0.269418 6.775C0.439143 6.60625 0.640706 6.52188 0.874106 6.52188C1.10749 6.52188 1.30855 6.60625 1.4773 6.775L5.94918 11.275Z"
                      fill="#FF8720"
                    />
                  </svg>
                </div>
                <div>50% передплата</div>
              </div>
              <div>
                <div class="checkbox" onclick="changeCheck(event)">
                  <input type="checkbox" value="30" />
                  <svg
                    width="18"
                    height="14"
                    viewBox="0 0 18 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.94918 11.275L16.1586 1.06563C16.3324 0.896875 16.5353 0.8125 16.7671 0.8125C16.9989 0.8125 17.1992 0.897371 17.3679 1.06712C17.5367 1.23684 17.6211 1.4384 17.6211 1.6718C17.6211 1.90518 17.5367 2.10625 17.3679 2.275L6.5398 13.1031C6.37105 13.2719 6.17418 13.3563 5.94918 13.3563C5.72418 13.3563 5.5273 13.2719 5.35855 13.1031L0.239803 7.98438C0.0710526 7.81437 -0.00863487 7.6125 0.000740132 7.37876C0.0101151 7.145 0.0996743 6.94375 0.269418 6.775C0.439143 6.60625 0.640706 6.52188 0.874106 6.52188C1.10749 6.52188 1.30855 6.60625 1.4773 6.775L5.94918 11.275Z"
                      fill="#FF8720"
                    />
                  </svg>
                </div>
                <div>30% передплата</div>
              </div>
            </div>
            <div class="exp">
              <h2>Доставка</h2>
              <div>
                <div class="checkbox checked disabled">
                  <input type="checkbox" checked />
                  <svg
                    width="18"
                    height="14"
                    viewBox="0 0 18 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.94918 11.275L16.1586 1.06563C16.3324 0.896875 16.5353 0.8125 16.7671 0.8125C16.9989 0.8125 17.1992 0.897371 17.3679 1.06712C17.5367 1.23684 17.6211 1.4384 17.6211 1.6718C17.6211 1.90518 17.5367 2.10625 17.3679 2.275L6.5398 13.1031C6.37105 13.2719 6.17418 13.3563 5.94918 13.3563C5.72418 13.3563 5.5273 13.2719 5.35855 13.1031L0.239803 7.98438C0.0710526 7.81437 -0.00863487 7.6125 0.000740132 7.37876C0.0101151 7.145 0.0996743 6.94375 0.269418 6.775C0.439143 6.60625 0.640706 6.52188 0.874106 6.52188C1.10749 6.52188 1.30855 6.60625 1.4773 6.775L5.94918 11.275Z"
                      fill="#FF8720"
                    />
                  </svg>
                </div>
                <div>Самовивіз із магизину</div>
              </div>
              <div>
                <div>Полтава, вулиця Івана Мазепи, 17</div>
                <div>Щоденно з 9:30 до 18:30</div>
              </div>
              <iframe
                title="geolocation"
                src="https://maps.google.com/maps?q=ул.+Ивана+Мазепы,+17,+Полтава,+Полтавская+область,+36000&amp;t=&amp;z=18&amp;ie=UTF8&amp;iwloc=&amp;output=embed"
                frameborder="0"
                loading="lazy"
                width="100%"
                height="268"
                allowfullscreen
              ></iframe>
            </div>
          </div>
          <div>
            <div class="cart">
              <h2>Ваш кошик</h2>
            </div>
            <div class="order-sum">
              <h2>Підсумок замовлення</h2>
              <div>
                <div>За все:</div>
                <div id="price-all">00.00 грн</div>
              </div>
              <div>
                <div id="procent">100% передплата</div>
                <div id="price-procent">00.00 грн</div>
              </div>
              <div>
                <div>Вього:</div>
                <div id="price-total">00.00 грн</div>
              </div>
              <button class="button-bg">Оплатити</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <a href="/#contact" class="req-br" style="z-index: 5">
      <img src="./assets/images/req.svg" alt="req-br" width="13" height="24" />
    </a>
    <footer>Copyright © 2024 “Галерея штор”. Усі права захищені.</footer>

    <!-- Includes script -->
    <script src="./js/cart.js"></script>

    <!-- Get and Render all product from cart -->
    <script>
      // Get all product from cart
      const data = getCartData();

      let order_block = document.getElementsByClassName("cart")[0];

      // Render all product
      data.forEach((element) => {
        let item_div = document.createElement("div");

        let img = document.createElement("img");
        img.src = `./assets/images/products/${element.image}`;
        img.alt = element.image.split(".")[0];
        item_div.appendChild(img);

        let inside_div = document.createElement("div");
        inside_div.className = "cart-inf";

        let div1 = document.createElement("div");
        let span1 = document.createElement("span");
        span1.textContent = "Тканина для штор:";
        let text1 = document.createTextNode(` ${element.name}`);
        div1.appendChild(span1);
        div1.appendChild(text1);
        inside_div.appendChild(div1);

        let div2 = document.createElement("div");
        let span2 = document.createElement("span");
        span2.textContent = "Колір:";
        let text2 = document.createTextNode(` ${element.color}`);
        div2.appendChild(span2);
        div2.appendChild(text2);
        inside_div.appendChild(div2);

        item_div.appendChild(inside_div);
        order_block.appendChild(item_div);
      });

      // Price Calculation and Render
      const totalPrice = data
        .reduce((sum, item) => sum + parseFloat(item.price), 0)
        .toFixed(2);
      document.getElementById("price-all").textContent = `${totalPrice} грн`;
      document.getElementById(
        "price-procent"
      ).textContent = `${totalPrice} грн`;
      document.getElementById("price-total").textContent = `${totalPrice} грн`;
    </script>

    <!-- ReRender data if input is changed -->
    <script>
      // Change selected checkbox
      function changeCheck(e) {
        document
          .getElementsByClassName("checked")[0]
          .classList.remove("checked");

        document.querySelectorAll(
          "input[type='checkbox']:checked"
        )[0].checked = false;

        e.currentTarget.classList.add("checked");
        e.currentTarget.querySelector("input[type='checkbox']").checked = true;

        switch (
          parseInt(
            e.currentTarget.querySelector("input[type='checkbox']").value
          )
        ) {
          case 100:
            priceCalc(1);
            break;
          case 50:
            priceCalc(0.5);
            break;
          case 30:
            priceCalc(0.3);
            break;
        }
      }

      // Price Calculation and ReRender
      function priceCalc(num) {
        // Get updated data from cart
        const data = getCartData();

        // Price Calculation and Render
        const totalPrice = data
          .reduce((sum, item) => sum + parseFloat(item.price), 0)
          .toFixed(2);
        document.getElementById("price-procent").textContent = `${(
          totalPrice * num
        ).toFixed(2)} грн`;

        // Render new procent
        let procent = document.getElementById("procent");
        switch (num) {
          case 1:
            procent.textContent = "100% передплата";
            break;
          case 0.5:
            procent.textContent = "50% передплата";
            break;
          case 0.3:
            procent.textContent = "30% передплата";
            break;
        }
      }
    </script>

    <!-- Includes script -->
    <script src="./js/header.js"></script>
    <script src="./js/global.js"></script>
  </body>
</html>
